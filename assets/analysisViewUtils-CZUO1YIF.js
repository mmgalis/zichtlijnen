import{e as v,a as u,iq as d,Z as l,a6 as o,h6 as w,bF as h,aH as y,ir as f}from"./index-CY8jQoH7.js";let n=class extends d{constructor(t){super(t)}initialize(){this.addHandles(l(()=>this.analysisViewData.visible,t=>this.visible=t,o))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};n=v([u("esri.views.interactive.AnalysisToolBase")],n);function b(t,a){t.interactive=!0;const{tool:i,view:s}=t;s.activeTool=i;let e=w(a,()=>{s.activeTool===i&&(s.activeTool=null)});return h(async r=>{await y(()=>i==null||!i.active,r),e=f(e)},a)}function p(t,a){return l(()=>t.interactive,()=>$(t,a),o)}function $(t,a){t.interactive?m(t,a):c(t)}function m(t,a){c(t);const{view:i,analysis:s}=t,e=new a({view:i,analysis:s,analysisViewData:t});return t.tool=e,i.tools.add(e),e}function c(t){const{view:a,tool:i}=t;i!=null&&(a.tools.remove(i),t.tool=null)}export{p as a,b as l,n as o,c as v};
